# Terraform-AWS-Project 
 
# 🚀 AWS VPC Infra with Public & Private Load Balancers via Terraform

This project builds a **secure and scalable VPC infrastructure on AWS** using **Terraform**, complete with public/private subnets, EC2 proxy & backend instances, and load balancers. It provisions the entire setup across two AZs and uses **remote state storage in S3**, dynamic AMI fetching, and provisioning via `remote-exec`.

## 📸 Architecture Diagram
![image](https://github.com/user-attachments/assets/13602a20-738d-42bb-94fc-5429dc14123b)


---

## 📦 Features

- 🔹 Custom Terraform modules
- 🔹 Remote backend with S3 + DynamoDB for state locking
- 🔹 Workspace isolation (`dev`)
- 🔹 Public and private EC2 instances (proxy/backend)
- 🔹 Apache installed on proxy servers using `remote-exec`
- 🔹 Private EC2 instances exposed through a private ALB
- 🔹 Output of public IPs to `all-ips.txt`
- 🔹 Image IDs fetched dynamically with `data "aws_ami"`
- 🔹 Cool output when you hit the Public Load Balancer → shows content from Private EC2s!

---

## ✅ Requirements

- [Terraform v1.0+](https://www.terraform.io/downloads)
- AWS CLI configured
- An S3 bucket + DynamoDB table for remote state
- A key pair for SSH access to EC2s
- Git

---

## 📁 Project Structure

TERRAFORM-PROJECT/
│
├── .gitignore                   # Git ignore file
├── .terraform/                  # Terraform init directory (autogenerated)
│
├── Modules/                     # Custom modules
│   ├── Backend/                 # S3 + DynamoDB for remote state
│   ├── EC2/                     # EC2 instance creation logic
│   ├── LoadBalancer/            # Public and Private ALBs
│   ├── Logging/                 # Log groups / CloudWatch (optional)
│   ├── NAT/                     # NAT gateway config
│   ├── Route/                   # Routing tables
│   ├── Security-Group/          # SGs for EC2, ALBs, etc.
│   ├── SSH/                     # SSH Key or Bastion access setup
│   ├── Subnet/                  # Public/Private subnet config
│   └── VPC/                     # Main VPC module
│
├── all-IPs.txt                  # Generated file with all EC2 public IPs
│
├── backend.tf                   # S3 backend configuration
├── main.tf                      # Root module entry point
├── outputs.tf                   # Root-level outputs
├── provider.tf                  # AWS provider config
├── variables.tf                 # Input variables
└── terraform.tfstate            # Local state (if not using remote)


Initialize Terraform & Create Workspace:

terraform init
terraform workspace new dev

Apply the Infrastructure:

terraform apply

🌐 Result Preview
🧠 Dev Workspace
🔧 Proxy Apache Setup
🌍 Public DNS Load Balancer Output
☁️ S3 State File Storage
نسخ
تحرير
